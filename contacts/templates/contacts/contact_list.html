<h2>My Contacts</h2>
<form method="get">
  <input type="text" name="q" placeholder="Search contacts" value="{{ query }}">
  <button type="submit">Search</button>
</form>
<a href="{% url 'contact_add' %}">Add New Contact</a>
<ul>
  {% for contact in contacts %}
    <li>
      {{ contact.name }} - {{ contact.phone }} - {{ contact.email }}
      <a href="{% url 'contact_edit' contact.pk %}">Edit</a>
      <form method="post" action="{% url 'contact_delete' contact.pk %}" style="display:inline;">
        {% csrf_token %}<button type="submit">Delete</button>
      </form>
    </li>
  {% empty %}
    <li>No contacts found.</li>
  {% endfor %}
</ul>

<div class="pagination">
  <span class="step-links">
      {% if contacts.has_previous %}
          <a href="?q={{ query }}&page=1">&laquo; first</a>
          <a href="?q={{ query }}&page={{ contacts.previous_page_number }}">previous</a>
      {% endif %}

      <span class="current">
          Page {{ contacts.number }} of {{ contacts.paginator.num_pages }}.
      </span>

      {% if contacts.has_next %}
          <a href="?q={{ query }}&page={{ contacts.next_page_number }}">next</a>
          <a href="?q={{ query }}&page={{ contacts.paginator.num_pages }}">last &raquo;</a>
      {% endif %}
  </span>
</div>

{% for message in messages %}
<div>{{ message }}</div>
{% endfor %}
